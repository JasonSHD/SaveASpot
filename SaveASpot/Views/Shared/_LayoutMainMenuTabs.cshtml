@using SaveASpot.Controllers
@using SaveASpot.Controllers.Artifacts
@using SaveASpot.Controllers.Artifacts.ViewExtensions
@using SaveASpot.Core.Web.Mvc.Extensions
@using SaveASpot.Core.Web.Mvc.ViewExtensions
@inherits SaveASpot.Core.Web.Mvc.AdminTabViewPage<dynamic>
@{
	Layout = SiteConstants.Layouts.BootstrapLayout;
	var extensions = ViewExtensionFilter.GetViewExtensionExecuter(ViewContext);
}

<!-- navbar -->
<div class="navbar navbar-inverse">
	<div class="navbar-inner">
		<button type="button" class="btn btn-navbar visible-phone" id="menu-toggler">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
		</button>

		<a class="brand" href="@Url.Action("Index", "Home", new { area = "" })">Save A Spot</a>
		<div class="nav-collapse collapse">
			<ul class="nav">
			</ul>
		</div>

		<ul class="nav pull-right">
			@foreach (var tabElement in Html.For<MainMenuTabAttribute>().OrderBy(e => e.IndexOfOrder))
	 {
				<li>
					@(Html.ButtonForElement<MainMenuTabAttribute>("a", tabElement.Alias, new { href = "javascript:void(0)", data_ajaxtab = Url.Action(tabElement.ActionName, tabElement.ControllerName), data_ajaxtab_ready = tabElement.Alias }))
				</li>
	 }
			<li>&nbsp;&nbsp;&nbsp;</li>
			<li class="hidden-phone">
				<input class="search" type="text" />
			</li>
			<li class="notification-dropdown hidden-phone" style="display: none;" data-cart>
				<a href="#" class="trigger">
					<i class="icon-shopping-cart"></i>
					<span class="count">0</span>
				</a>
				<div class="pop-dialog">
					<div class="pointer right">
						<div class="arrow"></div>
						<div class="arrow_border"></div>
					</div>
					<div class="body">
						<a href="#" class="close-icon"><i class="icon-remove-sign"></i></a>
						<div class="notifications">
							<h3>Your Shopping Cart</h3>
							<a href="#" class="item">
								<i class="icon-map-marker"></i>Spot 1
								<span class="time"><i class="icon-dollar"></i>30.00</span>
							</a>
							<a href="#" class="item">
								<i class="icon-map-marker"></i>Spot 2
								<span class="time"><i class="icon-dollar"></i>30.00</span>
							</a>
							<a href="#" class="item">
								<i class="icon-map-marker"></i>Spot 3
								<span class="time"><i class="icon-dollar"></i>30.00</span>
							</a>
							<a href="#" class="item">
								<i class="icon-map-marker"></i>Spot 4
								<span class="time"><i class="icon-dollar"></i>30.00</span>
							</a>
							<div class="footer">
								<a href="@Url.Action("Index","ShoppingCart")" class="logout">Check Out Cart</a>
							</div>
						</div>
					</div>
				</div>
			</li>
			<li class="settings hidden-phone" id="loginButton" style="display: none;" data-login-item="">
				@{Html.RenderPartial(SiteConstants.Controls.LogOnContainerView);}
			</li>
			<li id="userInfoButton" class="notification-dropdown" style="display: none;" data-userinfo-item="">
				@{Html.RenderPartial(SiteConstants.Controls.UserInfoContainerView);}
			</li>
			<li class="settings hidden-phone" style="display: none;">
				<a href="#" role="button">
					<i class="icon-envelope-alt"></i>
				</a>
			</li>
		</ul>
	</div>
</div>
<!-- end navbar -->
<input type="hidden" id="@SiteConstants.QFilter" value="adminTabController" />
<!-- main container -->

@using (Html.BeginContainerForElement<MainMenuTabAttribute>("div", htmlAttributes: new { id = "tabContent" }, forAll: true))
{
	@RenderBody()
}

@{ 
	extensions.Execute(new ViewJavascriptConfigurationElementIdentity());
}

@*<script>
	Object.defineProperty(q, "pageConfig", { value: {}, writable: false, configurable: false });

	Object.defineProperty(q.pageConfig, "phasesUrl", { value: "@Url.Action("Index", "Phases")", wirtable: false, configurable: false });
	Object.defineProperty(q.pageConfig, "phaseEditUrl", { value: "@Url.Action("EditPhase", "Phases")", writable: false, configurable: false });
	Object.defineProperty(q.pageConfig, "spotsUrl", { value: "@Url.Action("ByPhase", "Spots")", wirtable: false, configurable: false });
	Object.defineProperty(q.pageConfig, "bookingForSponsorsUrl", { value: "@Url.Action("BookingSpots", "AdministratorActionsMap")", wirtable: false, configurable: false });
	Object.defineProperty(q.pageConfig, "sponsorDetailsUrl", { value: "@Url.Action("SponsorDetails", "Sponsors")", wirtable: false, configurable: false });
	Object.defineProperty(q.pageConfig, "sponsorView", { value: "@Url.Action("Index", "Sponsors")", wirtable: false, configurable: false });	

	Object.defineProperty(q.pageConfig, "paymentInformation", { value: "@Url.Action("CreatePaymentInformation", "Stripe")", writable: false, configurable: false });
	Object.defineProperty(q.pageConfig, "isCustomerAStripeUser", { value: "@Url.Action("IsPaymentInformationAdded", "Stripe")", writable: false, configurable: false });
	Object.defineProperty(q.pageConfig, "checkOut", { value: "@Url.Action("CheckOutPhase", "Stripe")", writable: false, configurable: false });
	Object.defineProperty(q.pageConfig, "loginUrl", { value: "@Url.Action("LogOn", "Account")", writable: false, configurable: false });
	Object.defineProperty(q.pageConfig, "logoutUrl", { value: "@Url.Action("LogOff", "Account")", writable: false, configurable: false });
	
</script>*@
